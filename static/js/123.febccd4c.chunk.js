"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[123],{123:function(e,r,n){n.r(r),n.d(r,{default:function(){return _}});var i=n(184),t=function(){return(0,i.jsx)("h2",{children:"Filters"})},l=n(439),s=n(791),o=n(420),c=n(688),d=function(e){return e.adverts.items},a=function(e){return e.adverts.isLoading},h=function(e){return e.adverts.error},u=function(e){var r=e.advert;try{console.log("Rendering FeaturesList with advert: ",r);var n=r.adults,t=r.transmission,l=r.engine,s=r.details;return(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[n," adults"]}),(0,i.jsx)("li",{children:t}),s.airConditioner>0&&(0,i.jsx)("li",{children:"AC"}),(0,i.jsx)("li",{children:l}),s.kitchen>0&&(0,i.jsx)("li",{children:"Kitchen"}),s.freezer>0&&(0,i.jsx)("li",{children:"Freezer"}),s.microwave>0&&(0,i.jsx)("li",{children:"Microwave"}),s.bathroom>0&&(0,i.jsx)("li",{children:"Bathroom"}),s.toilet>0&&(0,i.jsx)("li",{children:"Toilet"}),s.shower>0&&(0,i.jsx)("li",{children:"Shower"}),(0,i.jsxs)("li",{children:[s.airConditioner," air conditioner"]}),s.CD>0&&(0,i.jsx)("li",{children:"CD"}),s.radio>0&&(0,i.jsx)("li",{children:"Radio"}),s.TV>0&&(0,i.jsx)("li",{children:"TV"}),(0,i.jsxs)("li",{children:[s.beds," beds"]}),(0,i.jsxs)("li",{children:[s.hob," hob"]}),""!==s.gas&&(0,i.jsx)("li",{children:"Gas"}),""!==s.water&&(0,i.jsx)("li",{children:"Water"})]})}catch(o){console.error("Error in Features List component: ",o)}},x=n(164),j="Modal_Overlay__yoxbg",v="Modal_Modal__I1UYJ",m=document.getElementById("modal-root"),g=function(e){var r=e.close,n=e.children,t=(0,s.useCallback)((function(e){var n=e.target,i=e.currentTarget,t=e.code;n!==i&&"Escape"!==t||r()}),[r]);return(0,s.useEffect)((function(){return document.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",t),document.body.style.overflow="unset"}}),[t]),(0,x.createPortal)((0,i.jsx)("div",{onClick:t,className:j,children:(0,i.jsxs)("div",{className:v,children:[(0,i.jsx)("button",{type:"button",onClick:t,children:"Close"}),n]})}),m)},f=function(e){var r=e.gallery,n=e.alt;try{return console.log("Rendering Gallery with gallery: ",r),(0,i.jsx)("div",{children:r.map((function(e,r){return(0,i.jsx)("img",{src:e,alt:n},r)}))})}catch(t){return console.error("Error in Gallery component: ",t),(0,i.jsx)("div",{children:"Failed to load gallery"})}},p=function(e){var r=e.advert;try{var n=r.form,t=r.length,l=r.width,s=r.height,o=r.tank,c=r.consumption;return console.log("Rendering VehicleDetails with advert: ",r),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Vehicle Details"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Form ",n]}),(0,i.jsxs)("li",{children:["Length ",t]}),(0,i.jsxs)("li",{children:["Width ",l]}),(0,i.jsxs)("li",{children:["Heigth ",s]}),(0,i.jsxs)("li",{children:["Tank ",o]}),(0,i.jsxs)("li",{children:["Consumption ",c]})]})]})}catch(d){console.error("Error in VehicleDetails component: ",d)}},w=function(e){var r=e.review,n=r.reviewer_name,t=r.reviewer_rating,l=r.comment;return(0,i.jsxs)("li",{children:[(0,i.jsx)("h4",{children:n}),(0,i.jsx)("p",{children:t}),(0,i.jsx)("p",{children:l})]})},y=function(e){var r=e.advert;try{console.log("Rendering Reviews with advert: ",r);var n=r.reviews,t=n.map((function(e){return(0,i.jsx)(w,{review:e})}));return n&&(0,i.jsx)("ul",{children:t})}catch(l){return console.error("Error in Reviews component: ",l),(0,i.jsx)("div",{children:"Failed to load reviews"})}},b=function(e){var r=e.advert,n=(0,s.useState)(!1),t=(0,l.Z)(n,2),o=t[0],c=t[1],d=r.name,a=r.price,h=r.rating,x=r.reviews,j=r.location,v=r.description,m=r.gallery;return console.log("Rendering CamperModal with advert: ",r),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:d}),(0,i.jsxs)("p",{children:["\u20ac",a]}),(0,i.jsxs)("p",{children:[h,"(",x.length," Reviews)"]}),(0,i.jsx)("p",{children:j}),(0,i.jsx)("p",{children:v}),(0,i.jsx)(f,{gallery:m,alt:d}),(0,i.jsx)("p",{children:"Book your campervan now!"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",onClick:function(){return c(!1)},children:"Features"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",onClick:function(){return c(!0)},children:"Reviews"})})]}),o?(0,i.jsx)(y,{advert:r}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u,{advert:r}),(0,i.jsx)(p,{advert:r})]})]})},k=function(e){var r=e.advert,n=(0,s.useState)(!1),t=(0,l.Z)(n,2),o=t[0],c=t[1],d=r.name,a=r.price,h=r.rating,x=r.reviews,j=r.location,v=r.description,m=r.gallery,f=(0,s.useMemo)((function(){return r}),[r]),p=function(){c((function(e){return!e}))};return(0,i.jsxs)("li",{children:[(0,i.jsx)("h3",{children:d}),(0,i.jsxs)("p",{children:["\u20ac",a]}),(0,i.jsx)("button",{type:"button",children:"Add to favorites"}),(0,i.jsxs)("p",{children:[h,"(",x.length," Reviews)"]}),(0,i.jsx)("p",{children:j}),(0,i.jsx)("p",{children:v}),(0,i.jsx)(u,{advert:f}),(0,i.jsx)("img",{src:m[0],alt:d}),(0,i.jsx)("button",{type:"button",onClick:p,children:"Show more"}),o&&(0,i.jsx)(g,{close:p,children:(0,i.jsx)(b,{advert:f})})]})},C=n(579),F=function(){var e=(0,s.useState)(1),r=(0,l.Z)(e,2),n=r[0],t=r[1],u=(0,o.v9)(d),x=(0,o.v9)(a),j=(0,o.v9)(h);console.log(n),console.log(u);var v=(0,o.I0)();(0,s.useEffect)((function(){v((0,c.G)(n))}),[v,n]);var m=u.map((function(e){return(0,i.jsx)(k,{advert:e},e._id)}));return(0,i.jsxs)(i.Fragment,{children:[x&&(0,i.jsx)(C.Z,{}),j&&(0,i.jsx)("p",{children:"Oops sorry, an error occured. Please, try again later"}),(0,i.jsx)("ul",{children:m}),(0,i.jsx)("button",{type:"button",onClick:function(){t((function(e){return e+1})),console.log(n)},children:"Load more"})]})},_=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{}),(0,i.jsx)(F,{})]})}}}]);
//# sourceMappingURL=123.febccd4c.chunk.js.map