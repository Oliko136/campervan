"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[820],{820:function(e,n,r){r.r(n),r.d(n,{default:function(){return re}});var i=r(184),t=function(){return(0,i.jsx)("h2",{children:"Filters"})},o=r(439),l=r(791),s=r(420),c=r(688),d=function(e){return e.adverts.items},a=function(e){return e.adverts.isLoading},h=function(e){return e.adverts.error};var x,u,j,p,v,f,g,m,w,b,y,Z,k,C=r.p+"static/media/sprite.94c3f1d6fc651088b9433875bb7bc26a.svg",P=function(e){var n=e.width,r=e.height,t=e.fill,o=e.stroke,l=e.name;return(0,i.jsx)("svg",{width:n,height:r,fill:t,stroke:o,children:(0,i.jsx)("use",{href:"".concat(C,"#").concat(l)})})},F=function(e){var n=e.advert;try{console.log("Rendering FeaturesList with advert: ",n);var r=n.adults,t=n.transmission,o=n.engine,l=n.details;return(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[r," adults"]}),(0,i.jsx)("li",{children:t}),l.airConditioner>0&&(0,i.jsx)("li",{children:"AC"}),(0,i.jsx)("li",{children:o}),l.kitchen>0&&(0,i.jsx)("li",{children:"Kitchen"}),l.freezer>0&&(0,i.jsx)("li",{children:"Freezer"}),l.microwave>0&&(0,i.jsx)("li",{children:"Microwave"}),l.bathroom>0&&(0,i.jsx)("li",{children:"Bathroom"}),l.toilet>0&&(0,i.jsx)("li",{children:"Toilet"}),l.shower>0&&(0,i.jsx)("li",{children:"Shower"}),(0,i.jsxs)("li",{children:[l.airConditioner," air conditioner"]}),l.CD>0&&(0,i.jsx)("li",{children:"CD"}),l.radio>0&&(0,i.jsx)("li",{children:"Radio"}),l.TV>0&&(0,i.jsx)("li",{children:"TV"}),(0,i.jsxs)("li",{children:[l.beds," beds"]}),(0,i.jsxs)("li",{children:[l.hob," hob"]}),""!==l.gas&&(0,i.jsx)("li",{children:"Gas"}),""!==l.water&&(0,i.jsx)("li",{children:"Water"})]})}catch(s){console.error("Error in Features List component: ",s)}},_=r(164),R="Modal_Overlay__yoxbg",E="Modal_Modal__I1UYJ",z=document.getElementById("modal-root"),L=function(e){var n=e.close,r=e.children,t=(0,l.useCallback)((function(e){var r=e.target,i=e.currentTarget,t=e.code;r!==i&&"Escape"!==t||n()}),[n]);return(0,l.useEffect)((function(){return document.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",t),document.body.style.overflow="unset"}}),[t]),(0,_.createPortal)((0,i.jsx)("div",{onClick:t,className:R,children:(0,i.jsxs)("div",{className:E,children:[(0,i.jsx)("button",{type:"button",onClick:t,children:"Close"}),r]})}),z)},M=function(e){var n=e.gallery,r=e.alt;try{return console.log("Rendering Gallery with gallery: ",n),(0,i.jsx)("div",{children:n.map((function(e,n){return(0,i.jsx)("img",{src:e,alt:r},n)}))})}catch(t){return console.error("Error in Gallery component: ",t),(0,i.jsx)("div",{children:"Failed to load gallery"})}},D=function(e){var n=e.advert;try{var r=n.form,t=n.length,o=n.width,l=n.height,s=n.tank,c=n.consumption;return console.log("Rendering VehicleDetails with advert: ",n),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Vehicle Details"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Form ",r]}),(0,i.jsxs)("li",{children:["Length ",t]}),(0,i.jsxs)("li",{children:["Width ",o]}),(0,i.jsxs)("li",{children:["Heigth ",l]}),(0,i.jsxs)("li",{children:["Tank ",s]}),(0,i.jsxs)("li",{children:["Consumption ",c]})]})]})}catch(d){console.error("Error in VehicleDetails component: ",d)}},S=function(e){var n=e.review,r=n.reviewer_name,t=n.reviewer_rating,o=n.comment;return(0,i.jsxs)("li",{children:[(0,i.jsx)("h4",{children:r}),(0,i.jsx)("p",{children:t}),(0,i.jsx)("p",{children:o})]})},T=function(e){var n=e.advert;try{console.log("Rendering Reviews with advert: ",n);var r=n.reviews,t=r.map((function(e){return(0,i.jsx)(S,{review:e})}));return r&&(0,i.jsx)("ul",{children:t})}catch(o){return console.error("Error in Reviews component: ",o),(0,i.jsx)("div",{children:"Failed to load reviews"})}},V=function(e){var n=e.advert,r=(0,l.useState)(!1),t=(0,o.Z)(r,2),s=t[0],c=t[1],d=n.name,a=n.price,h=n.rating,x=n.reviews,u=n.location,j=n.description,p=n.gallery;return console.log("Rendering CamperModal with advert: ",n),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:d}),(0,i.jsxs)("p",{children:["\u20ac",a]}),(0,i.jsxs)("p",{children:[h,"(",x.length," Reviews)"]}),(0,i.jsx)("p",{children:u}),(0,i.jsx)("p",{children:j}),(0,i.jsx)(M,{gallery:p,alt:d}),(0,i.jsx)("p",{children:"Book your campervan now!"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",onClick:function(){return c(!1)},children:"Features"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",onClick:function(){return c(!0)},children:"Reviews"})})]}),s?(0,i.jsx)(T,{advert:n}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F,{advert:n}),(0,i.jsx)(D,{advert:n})]})]})},G=r(168),B=r(867),I=B.ZP.li(x||(x=(0,G.Z)(["\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n    gap: 24px;\n\n    border: 1px solid rgba(16, 24, 40, 0.2);\n    border-radius: 20px;\n    padding: 24px;\n    width: 888px;\n    height: 358px;\n"]))),A=B.ZP.div(u||(u=(0,G.Z)(["\n    min-width: 30%;\n    min-height: 30%;\n    align-self: stretch;\n"]))),N=B.ZP.img(j||(j=(0,G.Z)(["\n    border-radius: 10px;\n    width: 290px;\n    height: 310px;\n    object-fit: cover;\n"]))),O=B.ZP.div(p||(p=(0,G.Z)(["\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),W=B.ZP.div(v||(v=(0,G.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 16px;\n"]))),H=B.ZP.p(f||(f=(0,G.Z)(["\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 1.25;\n    color: #101828;\n"]))),J=B.ZP.div(g||(g=(0,G.Z)(["\n    display: flex;\n    gap: 16px;\n    margin-bottom: 24px;\n"]))),K=B.ZP.div(m||(m=(0,G.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 4px;\n"]))),U=B.ZP.p(w||(w=(0,G.Z)(["\n    font-size: 16px;\n    text-decoration: underline;\n    text-decoration-skip-ink: none;\n    color: #101828;\n"]))),Y=B.ZP.div(b||(b=(0,G.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 4px;\n"]))),q=B.ZP.p(y||(y=(0,G.Z)(["\n    font-size: 16px;\n    color: #101828;\n"]))),Q=B.ZP.p(Z||(Z=(0,G.Z)(["\n    font-size: 16px;\n    color: #475467;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-bottom: 24px;\n    \n"]))),X=B.ZP.button(k||(k=(0,G.Z)(["\n    border-radius: 200px;\n    padding: 16px 40px;\n    min-width: 166px;\n    min-height: 56px;\n    background-color: #e44848;\n    \n    font-weight: 500;\n    font-size: 16px;\n    letter-spacing: -0.01em;\n    color: #fff;\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover,\n    &:focus {\n        background-color: #d84343;\n    }\n"]))),$=function(e){var n=e.advert,r=(0,l.useState)(!1),t=(0,o.Z)(r,2),s=t[0],c=t[1],d=n.name,a=n.price,h=n.rating,x=n.reviews,u=n.location,j=n.description,p=n.gallery,v=(0,l.useMemo)((function(){return n}),[n]),f=function(){c((function(e){return!e}))};return(0,i.jsxs)(I,{children:[(0,i.jsx)(A,{children:(0,i.jsx)(N,{src:p[0],alt:d})}),(0,i.jsxs)(O,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(H,{children:d}),(0,i.jsxs)(H,{children:["\u20ac",a]}),(0,i.jsx)("button",{type:"button",children:"Add to favorites"})]}),(0,i.jsxs)(J,{children:[(0,i.jsxs)(K,{children:[(0,i.jsx)(P,{width:"16px",height:"16px",name:"icon-star-active"}),(0,i.jsxs)(U,{children:[h,"(",x.length," Reviews)"]})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(P,{width:"16px",height:"16px",fill:"none",stroke:"#101828",name:"icon-location"}),(0,i.jsx)(q,{children:u})]})]}),(0,i.jsx)(Q,{children:j}),(0,i.jsx)(F,{advert:v}),(0,i.jsx)(X,{type:"button",onClick:f,children:"Show more"}),s&&(0,i.jsx)(L,{close:f,children:(0,i.jsx)(V,{advert:v})})]})]})},ee=r(579),ne=function(){var e=(0,l.useState)(1),n=(0,o.Z)(e,2),r=n[0],t=n[1],x=(0,s.v9)(d),u=(0,s.v9)(a),j=(0,s.v9)(h);console.log(r),console.log(x);var p=(0,s.I0)();(0,l.useEffect)((function(){p((0,c.G)(r))}),[p,r]);var v=x.map((function(e){return(0,i.jsx)($,{advert:e},e._id)}));return(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)(ee.Z,{}),j&&(0,i.jsx)("p",{children:"Oops sorry, an error occured. Please, try again later"}),(0,i.jsx)("ul",{children:v}),(0,i.jsx)("button",{type:"button",onClick:function(){t((function(e){return e+1})),console.log(r)},children:"Load more"})]})},re=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{}),(0,i.jsx)(ne,{})]})}}}]);
//# sourceMappingURL=820.4736de3a.chunk.js.map